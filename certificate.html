<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Certificate of Authenticity – Brickasso</title>

  <!-- SEO / Sharing -->
  <meta name="description" content="Certificate of Authenticity for Brickasso artworks by Albert Oprea. Signed, numbered, and QR-verified." />
  <link rel="canonical" href="https://brickasso.art/certificate.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Certificate of Authenticity – Brickasso" />
  <meta property="og:description" content="Each Brickasso piece comes with a signed, numbered certificate and verification code." />
  <meta property="og:image" content="https://brickasso.art/logo.png" />
  <meta property="og:url" content="https://brickasso.art/certificate.html" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Favicon -->
  <link rel="icon" href="/logo.png" type="image/png" />
  <link rel="apple-touch-icon" href="/logo.png" />

  <!-- Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" />

  <style>
    /* Base */
    * { box-sizing: border-box; }
    :root{ --brand:#d62828; }
    body { margin: 0; padding: 0; font-family: 'Montserrat', sans-serif; background-image: url('archi-big-bg.jpg'); background-size: cover; background-position: center; background-attachment: fixed; color: #111; }

    /* Header (same across site) */
    header { padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; background-color: rgba(255, 255, 255, 0.8); position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid #ddd; }
    .logo { height: 50px; }
    .menu-toggle { display: none; font-size: 1.2em; background: none; border: none; cursor: pointer; }
    nav { display: flex; }
    nav a { margin-left: 20px; text-decoration: none; color: #000; font-weight: 600; transition: color 0.3s; }
    nav a:hover { color: var(--brand); }

    /* Content */
    .certificate-section { position: relative; padding: 100px 20px 30px; background: rgba(255,255,255,0.75); text-align: center; overflow:hidden; }
    .certificate-section h1 { font-size: 3em; margin-bottom: 20px; font-weight: 600; }
    .certificate-section p { font-size: 1.15em; line-height: 1.8; max-width: 820px; margin: 0 auto 16px; }
    .sigiliu { position: absolute; bottom: 1000px; right: 15%; height: 220px; transform: rotate(-15deg); opacity: .9; filter: drop-shadow(0 4px 16px rgba(0,0,0,.15)); }

    /* Verify card */
    .wrap { max-width: 1100px; margin: 0 auto; padding: 0 20px 80px; }
    .card { background: rgba(255,255,255,.88); border: 1px solid rgba(0,0,0,.06); border-radius: 16px; padding: 22px; margin: 18px 0; }
    .muted { color: #444; }
    .verify-row { display: flex; gap: 14px; align-items: center; flex-wrap: wrap; margin-top: 10px; }
    .input { flex: 1 1 420px; padding: 14px 16px; border-radius: 12px; border: 1px solid #ccc; font-size: 1rem; outline: none; }
    .btn { padding: 14px 22px; border-radius: 12px; border: 2px solid #000; background: #000; color: #fff; font-weight: 700; cursor: pointer; transition: background .3s, border-color .3s; }
    .btn:hover { background: #d62828; border-color: #d62828; }
    .btn.secondary { background: transparent; color: #000; }
    .btn.secondary:hover { background: #d62828; color: #fff; }
    .result { margin-top: 12px; font-size: 1rem; display:none; padding: 10px; border-radius: 8px; }

    /* Footer */
    footer { margin-top: 40px; padding: 30px; text-align: center; font-size: 0.9em; color: #666; }
    .social-icons-footer { margin-bottom: 10px; }
    .social-icons-footer a { margin: 0 15px; display: inline-block; transition: transform 0.3s ease; }
    .social-icons-footer img { height: 64px; width: auto; vertical-align: middle; }
    .social-icons-footer a:hover { transform: scale(1.2); }

    /* Mobile */
    @media (max-width: 768px) {
      .menu-toggle { display: block; }
      nav { display: none; flex-direction: column; gap: 15px; position: absolute; top: 70px; right: 0; width: 100%; background: rgba(255,255,255,0.95); padding: 20px; text-align: center; z-index: 999; }
      nav.active { display: flex; }
      .certificate-section { padding: 60px 20px 20px; }
      .certificate-section h1 { font-size: 2em; margin-bottom: 20px; }
      .certificate-section p { font-size: 1.05em; padding: 0 10px; }
      .sigiliu { position: static; display: block; margin: 30px auto 0; transform: none; height: 160px; }
      .social-icons-footer img { height: 48px; }
      footer { padding: 40px 20px; }
    }
  </style>
</head>
<body>
  <header>
    <img src="brickasso-logo.gif" alt="Brickasso Logo" class="logo" />
    <button class="menu-toggle" onclick="toggleMenu()">☰ Menu</button>
    <nav id="mobile-menu">
      <a href="index.html" onclick="toggleMenu()">Home</a>
      <a href="gallery.html" onclick="toggleMenu()">Gallery</a>
      <a href="about.html" onclick="toggleMenu()">About</a>
      <a href="portfolio.html" onclick="toggleMenu()">Portfolio</a>
      <a href="certificate.html" onclick="toggleMenu()">Certificate</a>
      <a href="contact.html" onclick="toggleMenu()">Contact</a>
    </nav>
  </header>

  <section class="certificate-section">
    <h1>Certificate of Authenticity</h1>
    <p>Each Brickasso artwork is a one-of-a-kind creation, meticulously handcrafted by Albert Oprea using only original LEGO® bricks.</p>
    <p>Collectors receive an official Certificate of Authenticity — individually signed, numbered, and verified via a private code printed on the certificate.</p>
    <p><strong>The certificate includes:</strong></p>
    <p>• Title of the work<br/>• Total brick count<br/>• Hours of creation<br/>• Signature and date<br/>• Unique registry number and verification code</p>
    <p style="font-style: italic; color: #555; margin-top: 24px;">"Every brick tells a story — and every certificate preserves it."<br/>— Albert Oprea</p>
    <img src="sigiliu.gif" alt="Brickasso Seal" class="sigiliu" />
  </section>

  <div class="wrap">
    <!-- VERIFY AUTHENTICITY CARD -->
    <section class="card">
      <h2 class="muted" style="margin:0 0 8px 0">Verify authenticity</h2>
      <p class="muted" style="margin:0 0 8px 0">Enter your code below (format: <strong>BRK-XX-XXXXXX</strong>)</p>
      <form id="verifyForm" class="verify-row">
        <input id="verifyInput" class="input" placeholder="Enter BRK code (e.g. BRK-XX-XXXXXX)" autocomplete="off" />
        <button type="submit" class="btn">Verify</button>
        <a class="btn secondary" href="gallery.html">← Back to Gallery</a>
      </form>
      <p id="verifyMsg" class="result" aria-live="polite"></p>
    </section>
  </div>

  <footer>
    <div class="social-icons-footer">
      <a href="https://instagram.com/brickasso.art" target="_blank"><img src="instagram-logo.png" alt="Instagram" /></a>
      <a href="https://x.com/brickasso_art" target="_blank"><img src="x-logo.png" alt="X (Twitter)" /></a>
    </div>
    © Brickasso 2025 – Original LEGO Art by Albert Oprea
  </footer>

  <script>
    function toggleMenu(){ document.getElementById('mobile-menu').classList.toggle('active'); }

    // Normalize code: trim, uppercase, replace fancy dashes with hyphen, remove spaces
    function normalizeCode(input){
      return (input||'')
        .toString()
        .trim()
        .toUpperCase()
        .replace(/[‐‑‒–—﹘﹣]/g,'-')
        .replace(/\s+/g,'');
    }

    // Hash helper (browser Web Crypto)
    async function sha256Hex(str){
      const enc = new TextEncoder().encode(str);
      const buf = await crypto.subtle.digest('SHA-256', enc);
      return Array.from(new Uint8Array(buf)).map(b=>b.toString(16).padStart(2,'0')).join('');
    }

    // Registry map (no full codes exposed): SALT + HASH(SALT + FULL_CODE)
    const REGISTRY = {
      'BRK-01': { label:'The White Horse',                 salt:'nJrlu0dROS5(J+Q*',  hash:'e0af1924a1980f27a7b9593d690349467f9b6ad902bbf926bf36b005f19b3d94' },
      'BRK-02': { label:'Rolex Series — Pepsi',            salt:'gfB7t9yK(Neix3iy',  hash:'e9990386be3c4270c239dceddf3edb200044ce54e6ba319b7cff0befe14b766f' },
      'BRK-03': { label:'Girl at the Mirror',              salt:'e4O8w0mi_(9L&HK]',  hash:'c395fe99d20bc8297c7b5e5f5ea65e9bc6f24df29a5026c94a35cc1aeb962055' },
      'BRK-04': { label:'Rolex Series — Hulk',             salt:'P3QX5Z&kDVa)!BLH',  hash:'90bfc6f45eaeda7ae25f8c301b6196f2921587b90b849c0b2d32c5b6b94c7c24' },
      'BRK-05': { label:'Rolex Series — Daytona',          salt:'$Jt-+WlmjO[t98]5',  hash:'d7783c545c23e25307360f3e5a7054ca352e192963bfa1d5a30cf7b8b4038581' }
    };

    // Submit verification
    document.getElementById('verifyForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const v = normalizeCode(document.getElementById('verifyInput').value);
      const msg = document.getElementById('verifyMsg');
      msg.style.display='block';

      // Accept letters+digits in last 6: BRK-XX-XXXXXX
      if(!/^BRK-\d{2}-[A-Z0-9]{6}$/.test(v)){
        msg.style.color='#721c24'; msg.style.background='#f8d7da'; msg.style.border='1px solid #f5c6cb';
        msg.textContent='⚠️ Invalid format. Use BRK-XX-XXXXXX (letters and digits).';
        return;
      }

      const prefix = v.slice(0,6); // FIX: first 6 chars => BRK-01, BRK-05, etc.
      const entry = REGISTRY[prefix];
      if(!entry){
        msg.style.color='#721c24'; msg.style.background='#f8d7da'; msg.style.border='1px solid #f5c6cb';
        msg.textContent='⚠️ Unknown registry number.';
        return;
      }

      try{
        const ok = (await sha256Hex(entry.salt + v)) === entry.hash;
        if(ok){
          msg.style.color='#155724'; msg.style.background='#d4edda'; msg.style.border='1px solid #c3e6cb';
          msg.textContent = `✅ Verified: This code matches the official registry entry. (${entry.label})`;
        } else {
          msg.style.color='#721c24'; msg.style.background='#f8d7da'; msg.style.border='1px solid #f5c6cb';
          msg.textContent = '⚠️ Invalid code. Please check the certificate and try again.';
        }
      }catch(err){
        msg.style.color='#721c24'; msg.style.background='#fff3cd'; msg.style.border='1px solid #ffeeba';
        msg.textContent = 'Temporary error validating the code.';
      }
    });
  </script>
</body>
</html>
